{"version":3,"sources":["../src/utils.ts","../src/wire_state_to_actions.ts","../src/patch.ts","../src/index.ts","../src/h.ts","../node_modules/animejs/anime.min.js","appstore/index.tsx"],"names":[],"mappings":"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","file":"78640130b27ab1060b0bf77374dece12.map","sourcesContent":["import { vnode } from './interface'\n\nexport const invokeLaterStack = []\n\n// 根据vnode创建真实DOM元素\nexport function createElement(node: vnode, isSVG?) {\n  let element = isSVG ? document.createElementNS('http://www.w3.org/2000/svg', node.name)\n    : document.createElement(node.name)\n\n  for (let i = 0, l = node.children.length; i < l; i++) {\n    let child = node.children[i]\n    if (typeof child === 'string' || typeof child === 'number') {\n      element.appendChild(document.createTextNode(child))\n    } else {\n      element.appendChild(createElement(child, isSVG))\n    }\n  }\n\n  for (let name in node.props) {\n    setELementProps(element, name, node.props[name], isSVG)\n  }\n\n  if (node.props && node.props.oncreate) {\n    invokeLaterStack.push(() => node.props.oncreate(element, node))\n  }\n\n  return element\n}\n\n// 当参数是个对象时，我们希望得到的是一个非引用对象。\nexport function setELementProps(element: HTMLElement | SVGElement, prop: string, value: null | string | Object | Function, isSVG: boolean, oldvalue?: null | string | Object | Function) {\n  if (prop !== 'key') {\n    if (prop === 'style') {\n      if (value === '' || value === null) {\n        element.style.cssText = ''\n      } else if (typeof value === 'object') {\n        // 合并新老对象, 以新的对象为准，这样 当存在oldvalue属性不存在与value时，会被去除\n        for (let key in copy(oldvalue, value)) {\n          element.style[key] = value[key] || ''\n        }\n      }\n    } else if (typeof value === 'function' || prop in element && !isSVG) {\n      element[prop] = value === null ? '' : value\n    } else if (value !== null && value !== false && typeof value !== 'object') {\n      element.setAttribute(prop, value)\n    } else if (value === null || value === false) {\n      element.removeAttribute(prop)\n    }\n  }\n}\n\nexport function removeElement(parent, element, node: vnode) {\n  function done() {\n    parent.removeChild(removeChildren(element, node))\n  }\n  if (node.props && node.props.onremove) {\n    // node.props.onremove(element, done)\n    invokeLaterStack.push(() => node.props.onremove(element, done))\n  } else {\n    done()\n  }\n}\n\nexport function removeChildren(element, node: vnode) {\n  // 表示该vnode不是文本节点\n  if (node.props || node.children) {\n    for (let i = 0, l = node.children.length; i < l; i++) {\n      let childNode = node.children[i]\n      if (typeof childNode !== 'string') {\n        removeChildren(element.children[i], childNode)\n      }\n    }\n    if (node.props && node.props.ondestroy) {\n      // node.props.ondestroy(element)\n      invokeLaterStack.push(() => node.props.ondestroy(element))\n    }\n  }\n  return element\n}\n\nexport function updateElement(element, props, oldProps, isSVG) {\n  let hasUpdate = false\n  for (let name in copy(oldProps, props)) {\n    let newValue = props[name]\n    let oldValue = name === 'value' || name === 'checked' ? element[name] : oldProps[name]\n    if (!isDeepEqual(newValue, oldValue)) {\n      let change = setELementProps(element, name, props[name] === undefined ? null : props[name], isSVG, oldProps[name])\n      hasUpdate = true\n    }\n  }\n  if (hasUpdate) {\n    // console.log('has update')\n  }\n  if (hasUpdate && props.onupdate) {\n    invokeLaterStack.push(() => props.onupdate(element, oldProps))\n  }\n}\n\nexport function getKey(node) {\n  return node && node.props && node.props.key !== undefined ? node.props.key : null\n}\n\nexport function copy(dest: {}, target?: {}) {\n  let val = {}\n  for (let key in dest) {\n    val[key] = dest[key]\n  }\n  for (let key in target) {\n    val[key] = target[key]\n  }\n  return val\n}\n\n// 忽略检测function Date  Regexp等引用类型。\nexport function isDeepEqual (o1, o2) {\n if (toString.call(o1) !== toString.call(o2)) {\n    return false\n  } else if (toString.call(o1) === '[object Array]') {\n    let length = o1.length > o2.length ? o1.length : o2.length\n    for (let i = 0; i < length; i++) {\n      let item1 = o1[i]\n      let item2 = o2[i]\n      if (isDeepEqual(item1, item2) === false) {\n        return false\n      }\n    }\n    return true\n  } else if (toString.call(o1) === '[object Object]') {\n    let keys = Object.keys(o1).concat(Object.keys(o2))\n    for (let i = 0, l = keys.length; i < l; i++) {\n      let item1 = o1[keys[i]]\n      let item2 = o2[keys[i]]\n      if (isDeepEqual(item1, item2) === false) {\n        return false\n      }\n    }\n    return true\n  } else {\n    // 忽略检测function Date  Regexp等引用类型。\n    return o1 === o2\n  }\n}","// \nimport { copy } from './utils'\nexport function _wireStateToActions(path, state, actions, callback) {\n  for (let key in actions) {\n    typeof actions[key] === 'function' ?\n      (function (key, action) {\n        actions[key] = function (data) {\n          if (typeof (data = action(data)) === \"function\") {\n            data = data(state, actions)\n          }\n          if (\n            data &&\n            // data !== (state = getState(path, globalState)) && 可用某个类库来提供比较，比如 immutable.js\n            !data.then // Promise\n          ) {\n            callback(path, copy(data))\n          }\n          return copy(state, data)\n        }\n      })(key, actions[key]) : _wireStateToActions(path.concat(key), state[key] || {}, actions[key], callback)\n  }\n}\n\nexport default function wireStateToActions(globalState, globalActions, callback) {\n  _wireStateToActions([], globalState, globalActions, function (path, newState) {\n    if (setState(path, globalState, newState)) {\n      callback(globalState)\n    }\n  })\n}\n\nfunction setState(path, root, state) {\n  path = [].concat(path)\n  let hasChange = false\n  if (path.length === 0) {\n    for (let key in state) {\n      if (root[key] !== state[key]) {\n        root[key] = state[key]\n        hasChange = true\n      }\n    }\n  } else {\n    for (let i = 0; i < path.length - 1; i++) {\n      root = root[path[i]]\n    }\n    for (let key in state) {\n      let lastPathKey = path.pop()\n      if (root[lastPathKey][key] !== state[key]) {\n        root[lastPathKey][key] = state[key]\n        hasChange = true\n      }\n    }\n  }\n  return hasChange\n}\n\nfunction getState (path, state) {\n  for (let i = 0; i < path.length - 1; i++) {\n    state = state[path[i]]\n  }\n  return state\n}","import { createElement, updateElement, removeElement, getKey, invokeLaterStack } from './utils'\n\nexport default function patch (parent: HTMLElement | SVGElement, element: null | HTMLElement | SVGElement, oldNode, node, isSVG?) {\n  if (node === oldNode) {\n  } else if (oldNode === null) {\n    element = parent.insertBefore(createElement(node, isSVG), element)\n  } else if (node.name && node.name === oldNode.name) {\n    updateElement(element, node.props, oldNode.props, isSVG = isSVG || node.name === 'svg')\n     let oldElements = []\n     let oldKeyed = {}\n     let newKeyed = {}\n    // 暂存包含key值的旧节点数据\n     for (let i = 0, l = oldNode.children.length; i < l; i++) {\n       oldElements[i] = element.childNodes[i]\n       let oldChild = oldNode.children[i]\n       let oldKey = getKey(oldChild)\n       if (oldKey !== null) {\n         oldKeyed[oldKey] = [oldElements[i], oldChild]\n       }\n     }\n\n     let newNodeIndex = 0\n     let oldNodeIndex = 0\n\n     while (newNodeIndex < node.children.length) {\n       let oldChild = oldNode.children[oldNodeIndex]\n       let newChild = node.children[newNodeIndex]\n\n       let oldKey = getKey(oldChild)\n       let newKey = getKey(newChild)\n      // 表示已经处理过该旧节点,比如有些场景是 旧节点的位置在新vnode中被前置了\n       if (newKeyed[oldKey]) {\n         oldNodeIndex++\n         continue\n       }\n       \n       if (newKey === null) {\n         if (oldKey === null) {\n           patch(element, oldElements[oldNodeIndex] || null, oldChild, newChild, isSVG)\n           newNodeIndex++\n         }\n        //  隐含条件，如果旧节点包含key而新节点没有，则需要移动到下一个旧节点去对比\n         oldNodeIndex++\n       } else {\n         let recycleNode = oldKeyed[newKey] || []\n         if (oldKey === newKey) {\n           patch(element, recycleNode[0], recycleNode[1], newChild, isSVG)\n           oldNodeIndex++\n         } else if (recycleNode[0]) {\n          //  旧节点该移位了\n          patch(element,\n                element.insertBefore(recycleNode[0], oldElements[oldNodeIndex]),\n                recycleNode[1],\n                newChild,\n                isSVG)\n         } else {\n          //  新节点\n           patch(element, oldElements[oldNodeIndex], null, newChild, isSVG)\n         }\n\n         newNodeIndex++\n         newKeyed[newKey] = newChild\n       }\n     }\n\n    //  新节点处理完后，检查是否还剩旧节点，然后将之删除\n    while (oldNodeIndex < oldNode.children.length) {\n      let oldChild = oldNode.children[oldNodeIndex]\n      if (getKey(oldChild) === null) {\n        removeElement(element, oldElements[oldNodeIndex], oldChild)\n      }\n      oldNodeIndex++\n    }\n\n    // 处理包含key的旧节点\n    for (let key in oldKeyed) {\n      if (!newKeyed[oldKeyed[key][1].props.key]) {\n        removeElement(element, oldKeyed[key][0], oldKeyed[key][1])\n      }\n    }\n  } else if (typeof node === 'string' || typeof node === 'number') {\n    element.nodeValue = node.toString()\n  } else {\n    // 替换整个节点\n    let _rEl\n    element = parent.insertBefore(createElement(node, isSVG), _rEl = element)\n    removeElement(parent, _rEl, oldNode)\n  }\n  return element\n}\n\nexport function rootPatch (parent: HTMLElement | SVGElement, element: null | HTMLElement | SVGElement, oldNode, node, isSVG?) {\n  element = patch(parent, element, oldNode, node)\n  let lifeCycle\n  // 确保调用是从最底层到外层\n  while(lifeCycle = invokeLaterStack.pop()) lifeCycle()\n  return element\n}","import  wireStateToActions from './wire_state_to_actions'\nimport patch from './patch'\n\nexport default function app (state, actions, views, container) {\n  if (!container) throw new Error('container not exist')\n  let rootElement = (container && container.children[0]) || null\n  let lastNode = null\n  let renderLock\n  scheduleRender()\n  wireStateToActions(state, actions, function (_state) {\n    state = _state\n    scheduleRender()\n  })\n\n  function render () {\n    renderLock = !renderLock\n    let newNode = views(state, actions)\n    rootElement = patch(container, rootElement, lastNode, (lastNode = newNode))\n  }\n\n  function scheduleRender() {\n    if (!renderLock) {\n      renderLock = !renderLock\n      setTimeout(render)\n    }\n  }\n}","import { vnode, ComponentFunc } from './interface'\n\n// 基于jsx语法\nexport default function h (name: string | ComponentFunc, props: null | Object, ...children: Array<vnode|string>):vnode {\n  // 组件方法,支持组件内部嵌套子元素或者子组件\n  if (typeof name === 'function') {\n    let vnode = name(props || {})\n    if (vnode.children && children.length > 0) {\n      vnode.children = vnode.children.concat(children)\n    }\n    return vnode\n  } else {\n    return {\n      name,\n      props: props || {},\n      children\n    }\n  }\n}\n\n","/*\n 2017 Julian Garnier\n Released under the MIT license\n*/\nvar $jscomp={scope:{}};$jscomp.defineProperty=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,r,p){if(p.get||p.set)throw new TypeError(\"ES3 does not support getters and setters.\");e!=Array.prototype&&e!=Object.prototype&&(e[r]=p.value)};$jscomp.getGlobal=function(e){return\"undefined\"!=typeof window&&window===e?e:\"undefined\"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX=\"jscomp_symbol_\";\n$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||\"\")+$jscomp.symbolCounter_++};\n$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol(\"iterator\"));\"function\"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var r=0;return $jscomp.iteratorPrototype(function(){return r<e.length?{done:!1,value:e[r++]}:{done:!0}})};\n$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(e,r){$jscomp.initSymbolIterator();e instanceof String&&(e+=\"\");var p=0,m={next:function(){if(p<e.length){var u=p++;return{value:r(u,e[u]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};\n$jscomp.polyfill=function(e,r,p,m){if(r){p=$jscomp.global;e=e.split(\".\");for(m=0;m<e.length-1;m++){var u=e[m];u in p||(p[u]={});p=p[u]}e=e[e.length-1];m=p[e];r=r(m);r!=m&&null!=r&&$jscomp.defineProperty(p,e,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill(\"Array.prototype.keys\",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},\"es6-impl\",\"es3\");var $jscomp$this=this;\n(function(e,r){\"function\"===typeof define&&define.amd?define([],r):\"object\"===typeof module&&module.exports?module.exports=r():e.anime=r()})(this,function(){function e(a){if(!h.col(a))try{return document.querySelectorAll(a)}catch(c){}}function r(a,c){for(var d=a.length,b=2<=arguments.length?arguments[1]:void 0,f=[],n=0;n<d;n++)if(n in a){var k=a[n];c.call(b,k,n,a)&&f.push(k)}return f}function p(a){return a.reduce(function(a,d){return a.concat(h.arr(d)?p(d):d)},[])}function m(a){if(h.arr(a))return a;\nh.str(a)&&(a=e(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function u(a,c){return a.some(function(a){return a===c})}function C(a){var c={},d;for(d in a)c[d]=a[d];return c}function D(a,c){var d=C(a),b;for(b in a)d[b]=c.hasOwnProperty(b)?c[b]:a[b];return d}function z(a,c){var d=C(a),b;for(b in c)d[b]=h.und(a[b])?c[b]:a[b];return d}function T(a){a=a.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(a,c,d,k){return c+c+d+d+k+k});var c=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(a);\na=parseInt(c[1],16);var d=parseInt(c[2],16),c=parseInt(c[3],16);return\"rgba(\"+a+\",\"+d+\",\"+c+\",1)\"}function U(a){function c(a,c,b){0>b&&(b+=1);1<b&&--b;return b<1/6?a+6*(c-a)*b:.5>b?c:b<2/3?a+(c-a)*(2/3-b)*6:a}var d=/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(a)||/hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(a);a=parseInt(d[1])/360;var b=parseInt(d[2])/100,f=parseInt(d[3])/100,d=d[4]||1;if(0==b)f=b=a=f;else{var n=.5>f?f*(1+b):f+b-f*b,k=2*f-n,f=c(k,n,a+1/3),b=c(k,n,a);a=c(k,n,a-1/3)}return\"rgba(\"+\n255*f+\",\"+255*b+\",\"+255*a+\",\"+d+\")\"}function y(a){if(a=/([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(a))return a[2]}function V(a){if(-1<a.indexOf(\"translate\")||\"perspective\"===a)return\"px\";if(-1<a.indexOf(\"rotate\")||-1<a.indexOf(\"skew\"))return\"deg\"}function I(a,c){return h.fnc(a)?a(c.target,c.id,c.total):a}function E(a,c){if(c in a.style)return getComputedStyle(a).getPropertyValue(c.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase())||\"0\"}function J(a,c){if(h.dom(a)&&\nu(W,c))return\"transform\";if(h.dom(a)&&(a.getAttribute(c)||h.svg(a)&&a[c]))return\"attribute\";if(h.dom(a)&&\"transform\"!==c&&E(a,c))return\"css\";if(null!=a[c])return\"object\"}function X(a,c){var d=V(c),d=-1<c.indexOf(\"scale\")?1:0+d;a=a.style.transform;if(!a)return d;for(var b=[],f=[],n=[],k=/(\\w+)\\((.+?)\\)/g;b=k.exec(a);)f.push(b[1]),n.push(b[2]);a=r(n,function(a,b){return f[b]===c});return a.length?a[0]:d}function K(a,c){switch(J(a,c)){case \"transform\":return X(a,c);case \"css\":return E(a,c);case \"attribute\":return a.getAttribute(c)}return a[c]||\n0}function L(a,c){var d=/^(\\*=|\\+=|-=)/.exec(a);if(!d)return a;var b=y(a)||0;c=parseFloat(c);a=parseFloat(a.replace(d[0],\"\"));switch(d[0][0]){case \"+\":return c+a+b;case \"-\":return c-a+b;case \"*\":return c*a+b}}function F(a,c){return Math.sqrt(Math.pow(c.x-a.x,2)+Math.pow(c.y-a.y,2))}function M(a){a=a.points;for(var c=0,d,b=0;b<a.numberOfItems;b++){var f=a.getItem(b);0<b&&(c+=F(d,f));d=f}return c}function N(a){if(a.getTotalLength)return a.getTotalLength();switch(a.tagName.toLowerCase()){case \"circle\":return 2*\nMath.PI*a.getAttribute(\"r\");case \"rect\":return 2*a.getAttribute(\"width\")+2*a.getAttribute(\"height\");case \"line\":return F({x:a.getAttribute(\"x1\"),y:a.getAttribute(\"y1\")},{x:a.getAttribute(\"x2\"),y:a.getAttribute(\"y2\")});case \"polyline\":return M(a);case \"polygon\":var c=a.points;return M(a)+F(c.getItem(c.numberOfItems-1),c.getItem(0))}}function Y(a,c){function d(b){b=void 0===b?0:b;return a.el.getPointAtLength(1<=c+b?c+b:0)}var b=d(),f=d(-1),n=d(1);switch(a.property){case \"x\":return b.x;case \"y\":return b.y;\ncase \"angle\":return 180*Math.atan2(n.y-f.y,n.x-f.x)/Math.PI}}function O(a,c){var d=/-?\\d*\\.?\\d+/g,b;b=h.pth(a)?a.totalLength:a;if(h.col(b))if(h.rgb(b)){var f=/rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(b);b=f?\"rgba(\"+f[1]+\",1)\":b}else b=h.hex(b)?T(b):h.hsl(b)?U(b):void 0;else f=(f=y(b))?b.substr(0,b.length-f.length):b,b=c&&!/\\s/g.test(b)?f+c:f;b+=\"\";return{original:b,numbers:b.match(d)?b.match(d).map(Number):[0],strings:h.str(a)||c?b.split(d):[]}}function P(a){a=a?p(h.arr(a)?a.map(m):m(a)):[];return r(a,\nfunction(a,d,b){return b.indexOf(a)===d})}function Z(a){var c=P(a);return c.map(function(a,b){return{target:a,id:b,total:c.length}})}function aa(a,c){var d=C(c);if(h.arr(a)){var b=a.length;2!==b||h.obj(a[0])?h.fnc(c.duration)||(d.duration=c.duration/b):a={value:a}}return m(a).map(function(a,b){b=b?0:c.delay;a=h.obj(a)&&!h.pth(a)?a:{value:a};h.und(a.delay)&&(a.delay=b);return a}).map(function(a){return z(a,d)})}function ba(a,c){var d={},b;for(b in a){var f=I(a[b],c);h.arr(f)&&(f=f.map(function(a){return I(a,\nc)}),1===f.length&&(f=f[0]));d[b]=f}d.duration=parseFloat(d.duration);d.delay=parseFloat(d.delay);return d}function ca(a){return h.arr(a)?A.apply(this,a):Q[a]}function da(a,c){var d;return a.tweens.map(function(b){b=ba(b,c);var f=b.value,e=K(c.target,a.name),k=d?d.to.original:e,k=h.arr(f)?f[0]:k,w=L(h.arr(f)?f[1]:f,k),e=y(w)||y(k)||y(e);b.from=O(k,e);b.to=O(w,e);b.start=d?d.end:a.offset;b.end=b.start+b.delay+b.duration;b.easing=ca(b.easing);b.elasticity=(1E3-Math.min(Math.max(b.elasticity,1),999))/\n1E3;b.isPath=h.pth(f);b.isColor=h.col(b.from.original);b.isColor&&(b.round=1);return d=b})}function ea(a,c){return r(p(a.map(function(a){return c.map(function(b){var c=J(a.target,b.name);if(c){var d=da(b,a);b={type:c,property:b.name,animatable:a,tweens:d,duration:d[d.length-1].end,delay:d[0].delay}}else b=void 0;return b})})),function(a){return!h.und(a)})}function R(a,c,d,b){var f=\"delay\"===a;return c.length?(f?Math.min:Math.max).apply(Math,c.map(function(b){return b[a]})):f?b.delay:d.offset+b.delay+\nb.duration}function fa(a){var c=D(ga,a),d=D(S,a),b=Z(a.targets),f=[],e=z(c,d),k;for(k in a)e.hasOwnProperty(k)||\"targets\"===k||f.push({name:k,offset:e.offset,tweens:aa(a[k],d)});a=ea(b,f);return z(c,{children:[],animatables:b,animations:a,duration:R(\"duration\",a,c,d),delay:R(\"delay\",a,c,d)})}function q(a){function c(){return window.Promise&&new Promise(function(a){return p=a})}function d(a){return g.reversed?g.duration-a:a}function b(a){for(var b=0,c={},d=g.animations,f=d.length;b<f;){var e=d[b],\nk=e.animatable,h=e.tweens,n=h.length-1,l=h[n];n&&(l=r(h,function(b){return a<b.end})[0]||l);for(var h=Math.min(Math.max(a-l.start-l.delay,0),l.duration)/l.duration,w=isNaN(h)?1:l.easing(h,l.elasticity),h=l.to.strings,p=l.round,n=[],m=void 0,m=l.to.numbers.length,t=0;t<m;t++){var x=void 0,x=l.to.numbers[t],q=l.from.numbers[t],x=l.isPath?Y(l.value,w*x):q+w*(x-q);p&&(l.isColor&&2<t||(x=Math.round(x*p)/p));n.push(x)}if(l=h.length)for(m=h[0],w=0;w<l;w++)p=h[w+1],t=n[w],isNaN(t)||(m=p?m+(t+p):m+(t+\" \"));\nelse m=n[0];ha[e.type](k.target,e.property,m,c,k.id);e.currentValue=m;b++}if(b=Object.keys(c).length)for(d=0;d<b;d++)H||(H=E(document.body,\"transform\")?\"transform\":\"-webkit-transform\"),g.animatables[d].target.style[H]=c[d].join(\" \");g.currentTime=a;g.progress=a/g.duration*100}function f(a){if(g[a])g[a](g)}function e(){g.remaining&&!0!==g.remaining&&g.remaining--}function k(a){var k=g.duration,n=g.offset,w=n+g.delay,r=g.currentTime,x=g.reversed,q=d(a);if(g.children.length){var u=g.children,v=u.length;\nif(q>=g.currentTime)for(var G=0;G<v;G++)u[G].seek(q);else for(;v--;)u[v].seek(q)}if(q>=w||!k)g.began||(g.began=!0,f(\"begin\")),f(\"run\");if(q>n&&q<k)b(q);else if(q<=n&&0!==r&&(b(0),x&&e()),q>=k&&r!==k||!k)b(k),x||e();f(\"update\");a>=k&&(g.remaining?(t=h,\"alternate\"===g.direction&&(g.reversed=!g.reversed)):(g.pause(),g.completed||(g.completed=!0,f(\"complete\"),\"Promise\"in window&&(p(),m=c()))),l=0)}a=void 0===a?{}:a;var h,t,l=0,p=null,m=c(),g=fa(a);g.reset=function(){var a=g.direction,c=g.loop;g.currentTime=\n0;g.progress=0;g.paused=!0;g.began=!1;g.completed=!1;g.reversed=\"reverse\"===a;g.remaining=\"alternate\"===a&&1===c?2:c;b(0);for(a=g.children.length;a--;)g.children[a].reset()};g.tick=function(a){h=a;t||(t=h);k((l+h-t)*q.speed)};g.seek=function(a){k(d(a))};g.pause=function(){var a=v.indexOf(g);-1<a&&v.splice(a,1);g.paused=!0};g.play=function(){g.paused&&(g.paused=!1,t=0,l=d(g.currentTime),v.push(g),B||ia())};g.reverse=function(){g.reversed=!g.reversed;t=0;l=d(g.currentTime)};g.restart=function(){g.pause();\ng.reset();g.play()};g.finished=m;g.reset();g.autoplay&&g.play();return g}var ga={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:\"normal\",autoplay:!0,offset:0},S={duration:1E3,delay:0,easing:\"easeOutElastic\",elasticity:500,round:0},W=\"translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective\".split(\" \"),H,h={arr:function(a){return Array.isArray(a)},obj:function(a){return-1<Object.prototype.toString.call(a).indexOf(\"Object\")},\npth:function(a){return h.obj(a)&&a.hasOwnProperty(\"totalLength\")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||h.svg(a)},str:function(a){return\"string\"===typeof a},fnc:function(a){return\"function\"===typeof a},und:function(a){return\"undefined\"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return h.hex(a)||h.rgb(a)||h.hsl(a)}},A=function(){function a(a,\nd,b){return(((1-3*b+3*d)*a+(3*b-6*d))*a+3*d)*a}return function(c,d,b,f){if(0<=c&&1>=c&&0<=b&&1>=b){var e=new Float32Array(11);if(c!==d||b!==f)for(var k=0;11>k;++k)e[k]=a(.1*k,c,b);return function(k){if(c===d&&b===f)return k;if(0===k)return 0;if(1===k)return 1;for(var h=0,l=1;10!==l&&e[l]<=k;++l)h+=.1;--l;var l=h+(k-e[l])/(e[l+1]-e[l])*.1,n=3*(1-3*b+3*c)*l*l+2*(3*b-6*c)*l+3*c;if(.001<=n){for(h=0;4>h;++h){n=3*(1-3*b+3*c)*l*l+2*(3*b-6*c)*l+3*c;if(0===n)break;var m=a(l,c,b)-k,l=l-m/n}k=l}else if(0===\nn)k=l;else{var l=h,h=h+.1,g=0;do m=l+(h-l)/2,n=a(m,c,b)-k,0<n?h=m:l=m;while(1e-7<Math.abs(n)&&10>++g);k=m}return a(k,d,f)}}}}(),Q=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var c=\"Quad Cubic Quart Quint Sine Expo Circ Back Elastic\".split(\" \"),d={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,\n.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/2:1-a(-2*b+2,c)/2}]},b={linear:A(.25,.25,.75,.75)},f={},e;for(e in d)f.type=e,d[f.type].forEach(function(a){return function(d,f){b[\"ease\"+a.type+c[f]]=h.fnc(d)?\nd:A.apply($jscomp$this,d)}}(f)),f={type:f.type};return b}(),ha={css:function(a,c,d){return a.style[c]=d},attribute:function(a,c,d){return a.setAttribute(c,d)},object:function(a,c,d){return a[c]=d},transform:function(a,c,d,b,f){b[f]||(b[f]=[]);b[f].push(c+\"(\"+d+\")\")}},v=[],B=0,ia=function(){function a(){B=requestAnimationFrame(c)}function c(c){var b=v.length;if(b){for(var d=0;d<b;)v[d]&&v[d].tick(c),d++;a()}else cancelAnimationFrame(B),B=0}return a}();q.version=\"2.2.0\";q.speed=1;q.running=v;q.remove=\nfunction(a){a=P(a);for(var c=v.length;c--;)for(var d=v[c],b=d.animations,f=b.length;f--;)u(a,b[f].animatable.target)&&(b.splice(f,1),b.length||d.pause())};q.getValue=K;q.path=function(a,c){var d=h.str(a)?e(a)[0]:a,b=c||100;return function(a){return{el:d,property:a,totalLength:N(d)*(b/100)}}};q.setDashoffset=function(a){var c=N(a);a.setAttribute(\"stroke-dasharray\",c);return c};q.bezier=A;q.easings=Q;q.timeline=function(a){var c=q(a);c.pause();c.duration=0;c.add=function(d){c.children.forEach(function(a){a.began=\n!0;a.completed=!0});m(d).forEach(function(b){var d=z(b,D(S,a||{}));d.targets=d.targets||a.targets;b=c.duration;var e=d.offset;d.autoplay=!1;d.direction=c.direction;d.offset=h.und(e)?b:L(e,b);c.began=!0;c.completed=!0;c.seek(d.offset);d=q(d);d.began=!0;d.completed=!0;d.duration>b&&(c.duration=d.duration);c.children.push(d)});c.seek(0);c.reset();c.autoplay&&c.restart();return c};return c};q.random=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};return q});","import app from '../../src'\nimport h from '../../src/h'\nimport * as anime from 'animejs'\n\n// window.anime = anime\n\nconst state = {\n  card: {\n    onpress: false\n  }\n}\n\nconst actions = {\n  card: {\n    touchstart: () => ({ onpress: true }),\n    touchend: () => ({ onpress: false })\n  }\n}\n\nlet Card = () => (\n  <div id =\"card\"\n    class={ `box colorful ${ state.card.onpress ? 'onpress' : '' }` } \n    onclick={() => {\n      console.log('click')\n      // actions.card.touchstart()\n      // setTimeout(actions.card.touchend, 300)\n      anime({\n        targets: '#card',\n        borderRadius: \"0px\",\n        // right: 0,\n        // bottom: 0,\n        left: 0,\n        top: 0,\n        width: '375px',\n        height: '667px',\n        opacity: 0.5,\n        duration: 800,\n        delay: 0,\n        easing: 'easeOutExpo'\n      })\n    }}\n    ontouchstart={(e) => {\n      actions.card.touchstart()\n      // e.preventDefault()\n    }} \n    ontouchend={actions.card.touchend}>\n  </div>\n)\n\nconst view = (state, actions) => (\n  <Card></Card>\n)\n\nvar mian = app(state, actions, view, document.body)\n\n"]}